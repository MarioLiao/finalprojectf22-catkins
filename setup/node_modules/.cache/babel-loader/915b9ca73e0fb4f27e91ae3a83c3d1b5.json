{"ast":null,"code":"var _jsxFileName = \"/Users/alsae/Desktop/Catkins-Dev/finalprojectf22-catkins/setup/src/components/clubs-list.component.js\",\n    _s = $RefreshSig$();\n\nimport { render } from '@testing-library/react';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { isRouteErrorResponse } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ClubsList() {\n  _s();\n\n  const [clubs, setClubs] = useState([{}]);\n  useEffect(() => {\n    axios.get('http://localhost:5000/clubs').then(resp => {\n      setClubs(resp.data); // console.table(resp.data[0]);\n    });\n  }, []);\n  /*const [user, setUser] = useState({});\n  useEffect(() => {\n    axios.get('http://localhost:5000/users/'+'633eece780fabeb102d55acd').then(resp => {\n     setUser(resp.data)\n      // console.table(resp.data[0]);\n  });\n  }, []);*/\n  // Test user\n\n  const user = {\n    \"_id\": \"633e2d62c31ac0ed271ce079\",\n    \"username\": \"mario\",\n    \"password\": \"mariopassword\",\n    \"role\": \"student\",\n    \"following\": [\"Badminton\", \"Music Club\"],\n    \"createdAt\": \"2022-10-06T01:20:34.736Z\",\n    \"updatedAt\": \"2022-10-06T01:26:44.070Z\",\n    \"__v\": 8\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ClubType\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [clubs.map(club => {\n          let button = /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => follow(club.name),\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 26\n          }, this);\n\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.clubType\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 17\n            }, this), (() => {\n              let button = /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => follow(club.name, user),\n                children: \"Follow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 32\n              }, this);\n\n              if (user.following != undefined) {\n                if (user.following.includes(club.name)) {\n                  button = /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => unFollow(club.name, user),\n                    children: \"UnFollow\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 66,\n                    columnNumber: 32\n                  }, this);\n                }\n              }\n\n              return button;\n            })()]\n          }, club.name, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this);\n        }), \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClubsList, \"pgMXu9BlJlY8lBXK5JWZJPwgJG8=\");\n\n_c = ClubsList;\n\nfunction follow(name, user) {\n  if (!user.following.includes(name)) {\n    user.following.push(name);\n  }\n\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  }; //axios.post('http://localhost:5000/users/update/'+'633eece780fabeb102d55acd', updatedUser)\n\n  window.location.reload(false);\n}\n\nfunction unFollow(name, user) {\n  if (user.following.includes(name)) {\n    user.following.splice(user.following.indexOf(name), 1);\n  }\n\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  }; //axios.post('http://localhost:5000/users/update/'+'633eece780fabeb102d55acd', updatedUser)\n\n  window.location.reload(false);\n}\n\nexport default ClubsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClubsList\");","map":{"version":3,"names":["render","axios","React","useEffect","useState","isRouteErrorResponse","ClubsList","clubs","setClubs","get","then","resp","data","user","map","club","button","follow","name","username","description","clubType","following","undefined","includes","unFollow","push","updatedUser","password","role","window","location","reload","splice","indexOf"],"sources":["/Users/alsae/Desktop/Catkins-Dev/finalprojectf22-catkins/setup/src/components/clubs-list.component.js"],"sourcesContent":["import { render } from '@testing-library/react';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { isRouteErrorResponse } from 'react-router-dom';\n\nfunction ClubsList() {\n  const [clubs, setClubs] = useState([{}]);\n  useEffect(() => {\n    axios.get('http://localhost:5000/clubs').then(resp => {\n\n    setClubs(resp.data)\n      // console.table(resp.data[0]);\n  });\n  }, []);\n\n  /*const [user, setUser] = useState({});\n  useEffect(() => {\n    axios.get('http://localhost:5000/users/'+'633eece780fabeb102d55acd').then(resp => {\n\n    setUser(resp.data)\n      // console.table(resp.data[0]);\n  });\n  }, []);*/\n\n// Test user\nconst user = \t{\n  \"_id\": \"633e2d62c31ac0ed271ce079\",\n  \"username\": \"mario\",\n  \"password\": \"mariopassword\",\n  \"role\": \"student\",\n  \"following\": [\n    \"Badminton\",\n    \"Music Club\"\n  ],\n  \"createdAt\": \"2022-10-06T01:20:34.736Z\",\n  \"updatedAt\": \"2022-10-06T01:26:44.070Z\",\n  \"__v\": 8\n}\n  \n  return (\n    <div className=\"container\">\n      <table>\n      <thead>\n        <tr>\n          <th>Name</th>\n          <th>Username</th>\n          <th>Description</th>\n          <th>ClubType</th>\n        </tr>\n      </thead>\n      <tbody>\n          {clubs.map((club) => {\n            let button = <button onClick={() => follow(club.name)}>Follow</button>\n            return(\n              <tr key={club.name}>\n                <th>{club.name}</th>\n                <th>{club.username}</th>\n                <th>{club.description}</th>\n                <th>{club.clubType}</th>\n\n                {/* Create a follow or unfollow button for each corresponding club */}\n                {(() => {\n                  let button = <button onClick={() => follow(club.name, user)}>Follow</button>\n                  if (user.following != undefined) {\n                    if (user.following.includes(club.name)) {\n                      button = <button onClick={() => unFollow(club.name, user)}>UnFollow</button>\n                    }\n                  }\n                  return (\n                    button\n                  )\n                })()}\n\n              </tr>\n            ); \n          })};\n        </tbody>\n    </table>\n    </div>\n  );\n}\n\nfunction follow(name, user) {\n  if (!user.following.includes(name)){\n    user.following.push(name)\n  }\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  }\n\n  //axios.post('http://localhost:5000/users/update/'+'633eece780fabeb102d55acd', updatedUser)\n  window.location.reload(false)\n}\n\nfunction unFollow(name, user) {\n  if (user.following.includes(name)){\n    user.following.splice(user.following.indexOf(name), 1);\n  }\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  }\n\n  //axios.post('http://localhost:5000/users/update/'+'633eece780fabeb102d55acd', updatedUser)\n  window.location.reload(false)\n}\n\nexport default ClubsList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/Users/alsae/Desktop/Catkins-Dev/finalprojectf22-catkins/setup/src/components/clubs-list.component.js\",\n    _s = $RefreshSig$();\n\nimport { render } from '@testing-library/react';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { isRouteErrorResponse } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ClubsList() {\n  _s();\n\n  const [clubs, setClubs] = useState([{}]);\n  useEffect(() => {\n    axios.get('http://localhost:5000/clubs').then(resp => {\n      setClubs(resp.data); // console.table(resp.data[0]);\n    });\n  }, []);\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    axios.get('http://localhost:5000/users/' + '633eece780fabeb102d55acd').then(resp => {\n      setUser(resp.data); // console.table(resp.data[0]);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ClubName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 30,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Owner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ClubTags\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [clubs.map(club => {\n          let button = /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => follow(club.clubName),\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 26\n          }, this);\n\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.clubName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.owner\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: club.clubTags\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 17\n            }, this), (() => {\n              let button = /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => follow(club.clubName, user),\n                children: \"Follow\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 32\n              }, this);\n\n              if (user.following != undefined) {\n                if (user.following.includes(club.clubName)) {\n                  button = /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => unFollow(club.clubName, user),\n                    children: \"UnFollow\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 51,\n                    columnNumber: 32\n                  }, this);\n                }\n              }\n\n              return button;\n            })()]\n          }, club.clubName, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 15\n          }, this);\n        }), \";\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ClubsList, \"nKlWeuiz3dd6cbYf4prCiXQPdFI=\");\n\n_c = ClubsList;\n\nfunction follow(name, user) {\n  if (!user.following.includes(name)) {\n    user.following.push(name);\n  }\n\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  };\n  axios.post('http://localhost:5000/users/update/' + '633eece780fabeb102d55acd', updatedUser);\n  window.location.reload(false);\n}\n\nfunction unFollow(name, user) {\n  if (user.following.includes(name)) {\n    user.following.splice(user.following.indexOf(name), 1);\n  }\n\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  };\n  axios.post('http://localhost:5000/users/update/' + '633eece780fabeb102d55acd', updatedUser);\n  window.location.reload(false);\n}\n\nexport default ClubsList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ClubsList\");","map":{"version":3,"names":["render","axios","React","useEffect","useState","isRouteErrorResponse","ClubsList","clubs","setClubs","get","then","resp","data","user","setUser","map","club","button","follow","clubName","owner","description","clubTags","following","undefined","includes","unFollow","name","push","updatedUser","username","password","role","post","window","location","reload","splice","indexOf"],"sources":["/Users/alsae/Desktop/Catkins-Dev/finalprojectf22-catkins/setup/src/components/clubs-list.component.js"],"sourcesContent":["import { render } from '@testing-library/react';\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { isRouteErrorResponse } from 'react-router-dom';\n\nfunction ClubsList() {\n  const [clubs, setClubs] = useState([{}]);\n  useEffect(() => {\n    axios.get('http://localhost:5000/clubs').then(resp => {\n\n    setClubs(resp.data)\n      // console.table(resp.data[0]);\n  });\n  }, []);\n\n  const [user, setUser] = useState({});\n  useEffect(() => {\n    axios.get('http://localhost:5000/users/'+'633eece780fabeb102d55acd').then(resp => {\n\n    setUser(resp.data)\n      // console.table(resp.data[0]);\n  });\n  }, []);\n  \n  return (\n    <div className=\"container\">\n      <table>\n      <thead>\n        <tr>\n          <th>ClubName</th>\n          <th>Owner</th>\n          <th>Description</th>\n          <th>ClubTags</th>\n        </tr>\n      </thead>\n      <tbody>\n          {clubs.map((club) => {\n            let button = <button onClick={() => follow(club.clubName)}>Follow</button>\n            return(\n              <tr key={club.clubName}>\n                <th>{club.clubName}</th>\n                <th>{club.owner}</th>\n                <th>{club.description}</th>\n                <th>{club.clubTags}</th>\n\n                {/* Create a follow or unfollow button for each corresponding club */}\n                {(() => {\n                  let button = <button onClick={() => follow(club.clubName, user)}>Follow</button>\n                  if (user.following != undefined) {\n                    if (user.following.includes(club.clubName)) {\n                      button = <button onClick={() => unFollow(club.clubName, user)}>UnFollow</button>\n                    }\n                  }\n                  return (\n                    button\n                  )\n                })()}\n\n              </tr>\n            ); \n          })};\n        </tbody>\n    </table>\n    </div>\n  );\n}\n\nfunction follow(name, user) {\n  if (!user.following.includes(name)){\n    user.following.push(name)\n  }\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  }\n\n  axios.post('http://localhost:5000/users/update/'+'633eece780fabeb102d55acd', updatedUser)\n  window.location.reload(false)\n}\n\nfunction unFollow(name, user) {\n  if (user.following.includes(name)){\n    user.following.splice(user.following.indexOf(name), 1);\n  }\n  const updatedUser = {\n    username: user.username,\n    password: user.password,\n    role: user.role,\n    following: user.following\n  }\n\n  axios.post('http://localhost:5000/users/update/'+'633eece780fabeb102d55acd', updatedUser)\n  window.location.reload(false)\n}\n\nexport default ClubsList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}